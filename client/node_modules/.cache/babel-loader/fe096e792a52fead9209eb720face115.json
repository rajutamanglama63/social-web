{"ast":null,"code":"import { REGISTER_REQUEST, REGISTER_FAILURE, LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILURE, REGISTER_SUCCESS, LOGOUT_REQUEST, LOGOUT_SUCCESS, LOGOUT_FAILURE, LOAD_USER_REQUEST, LOAD_USER_SUCCESS, LOAD_USER_FAILURE } from \"../constants/actionTypes\";\nimport jwtDecode from \"jwt-decode\";\nconst initialState = {\n  _id: \"\",\n  userName: \"\",\n  firstName: \"\",\n  lastName: \"\",\n  avatar: {\n    publicId: \"\",\n    url: \"\"\n  },\n  posts: [],\n  followers: [],\n  followings: [],\n  email: \"\",\n  error: \"\",\n  msg: \"\",\n  loading: true,\n  isAuthenticated: false\n};\nexport const authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case REGISTER_REQUEST:\n      return state.loading;\n\n    case REGISTER_SUCCESS:\n      const registeredUser = action.payload;\n      return { ...state,\n        loading: false,\n        isAuthenticated: true,\n        _id: registeredUser._id,\n        userName: registeredUser.userName,\n        firstName: registeredUser.firstName,\n        lastName: registeredUser.lastName,\n        avatar: registeredUser.avatar,\n        posts: registeredUser.posts,\n        followings: registeredUser.followings,\n        followers: registeredUser.followers\n      };\n\n    case REGISTER_FAILURE:\n      return { ...state,\n        loading: false,\n        isAuthenticated: false,\n        error: action.payload\n      };\n\n    case LOGIN_REQUEST:\n      return state.loading;\n\n    case LOGIN_SUCCESS:\n      const loggedInUser = jwtDecode(action.payload);\n      return { ...state,\n        loading: false,\n        isAuthenticated: true,\n        _id: loggedInUser._id,\n        userName: loggedInUser.userName,\n        firstName: loggedInUser.firstName,\n        lastName: loggedInUser.lastName,\n        posts: loggedInUser.posts,\n        followings: loggedInUser.followings,\n        followers: loggedInUser.followers\n      };\n\n    case LOGIN_FAILURE:\n      return { ...state,\n        loading: false,\n        isAuthenticated: false,\n        error: action.payload\n      };\n\n    case LOAD_USER_REQUEST:\n      return { ...state,\n        loading: true,\n        error: null,\n        isAuthenticated: false\n      };\n\n    case LOAD_USER_SUCCESS:\n      const user = action.payload;\n      return { ...state,\n        loading: false,\n        error: null,\n        isAuthenticated: true,\n        _id: user._id,\n        userName: user.userName,\n        firstName: user.firstName,\n        lastName: user.lastName,\n        posts: user.posts,\n        followings: user.followings,\n        followers: user.followers\n      };\n\n    case LOAD_USER_FAILURE:\n      return { ...state,\n        loading: false,\n        error: action.payload,\n        isAuthenticated: false\n      };\n\n    case LOGOUT_REQUEST:\n      return state.loading;\n\n    case LOGOUT_SUCCESS:\n      return { ...state,\n        loading: false,\n        msg: action.payload\n      };\n\n    case LOGOUT_FAILURE:\n      return action.payload;\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/raju/Web Project/mern/socialPractise/client/src/redux/reducers/authReducer.js"],"names":["REGISTER_REQUEST","REGISTER_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","REGISTER_SUCCESS","LOGOUT_REQUEST","LOGOUT_SUCCESS","LOGOUT_FAILURE","LOAD_USER_REQUEST","LOAD_USER_SUCCESS","LOAD_USER_FAILURE","jwtDecode","initialState","_id","userName","firstName","lastName","avatar","publicId","url","posts","followers","followings","email","error","msg","loading","isAuthenticated","authReducer","state","action","type","registeredUser","payload","loggedInUser","user"],"mappings":"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","sourcesContent":["import {\n    REGISTER_REQUEST, \n    REGISTER_FAILURE, \n    LOGIN_REQUEST, \n    LOGIN_SUCCESS, \n    LOGIN_FAILURE, \n    REGISTER_SUCCESS, \n    LOGOUT_REQUEST, \n    LOGOUT_SUCCESS, \n    LOGOUT_FAILURE,\n    LOAD_USER_REQUEST,\n    LOAD_USER_SUCCESS,\n    LOAD_USER_FAILURE\n} from \"../constants/actionTypes\"\nimport jwtDecode from \"jwt-decode\"\n\nconst initialState = {\n    _id : \"\",\n    userName : \"\",\n    firstName : \"\",\n    lastName : \"\",\n    avatar : {\n        publicId : \"\",\n        url : \"\"\n    },\n    posts : [],\n    followers : [],\n    followings : [],\n    email : \"\",\n    error : \"\",\n    msg : \"\",\n    loading : true,\n    isAuthenticated : false\n}\n\nexport const authReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case REGISTER_REQUEST:\n            return state.loading;\n\n        case REGISTER_SUCCESS:\n            const registeredUser = action.payload;\n            return {...state, loading : false, isAuthenticated : true, _id : registeredUser._id, userName : registeredUser.userName, firstName : registeredUser.firstName, lastName : registeredUser.lastName, avatar : registeredUser.avatar, posts : registeredUser.posts, followings : registeredUser.followings, followers : registeredUser.followers};\n\n        case REGISTER_FAILURE:\n            return {...state, loading : false, isAuthenticated : false, error : action.payload};\n\n        case LOGIN_REQUEST:\n            return state.loading;\n    \n        case LOGIN_SUCCESS:\n            const loggedInUser = jwtDecode(action.payload);\n            return {...state, loading : false, isAuthenticated : true, _id : loggedInUser._id, userName : loggedInUser.userName, firstName : loggedInUser.firstName, lastName : loggedInUser.lastName, posts : loggedInUser.posts, followings : loggedInUser.followings, followers : loggedInUser.followers};\n            \n        case LOGIN_FAILURE:\n            return {...state, loading : false, isAuthenticated : false, error : action.payload};\n\n        case LOAD_USER_REQUEST:\n            return {...state, loading : true, error : null, isAuthenticated : false}\n\n        case LOAD_USER_SUCCESS:\n            const user = action.payload;\n            return {...state, loading : false, error : null, isAuthenticated : true, _id : user._id, userName : user.userName, firstName : user.firstName, lastName : user.lastName, posts : user.posts, followings : user.followings, followers : user.followers}\n\n        case LOAD_USER_FAILURE:\n            return {...state, loading : false, error : action.payload, isAuthenticated : false}\n\n        case LOGOUT_REQUEST: \n            return state.loading;\n\n        case LOGOUT_SUCCESS:\n            return {...state, loading : false, msg : action.payload}\n\n        case LOGOUT_FAILURE:\n            return action.payload;\n\n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}