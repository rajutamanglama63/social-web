{"ast":null,"code":"import { REGISTER_REQUEST, REGISTER_FAILURE, LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILURE, REGISTER_SUCCESS, LOGOUT_REQUEST, LOGOUT_SUCCESS, LOGOUT_FAILURE } from \"../constants/actionTypes\";\nimport axios from \"axios\";\nexport const register = newUserData => async dispatch => {\n  try {\n    dispatch({\n      type: REGISTER_REQUEST\n    });\n    const {\n      data\n    } = await axios.post(\"/auth/register\", newUserData, {\n      headers: {\n        \"Content-Type\": \"application/json,\"\n      }\n    });\n    dispatch({\n      type: REGISTER_SUCCESS,\n      payload: data.newUser\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: REGISTER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const login = (email, password) => async dispatch => {\n  try {\n    // this wired nested trycatch block is use here to avoid type error\n    try {\n      dispatch({\n        type: LOGIN_REQUEST\n      });\n      const {\n        data\n      } = await axios.post(\"/auth/login\", {\n        email,\n        password\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      console.log(data);\n      dispatch({\n        type: LOGIN_SUCCESS,\n        payload: data.token\n      });\n    } catch (error) {\n      dispatch({\n        type: LOGIN_FAILURE,\n        payload: error.response.data.msg\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const logout = () => async dispatch => {\n  try {\n    dispatch({\n      type: LOGOUT_REQUEST\n    });\n    const removeCookie = await axios.get(\"/auth/logout\");\n    dispatch({\n      type: LOGOUT_SUCCESS,\n      payload: removeCookie\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: LOGOUT_FAILURE,\n      payload: error.message\n    });\n  }\n};","map":{"version":3,"sources":["/home/raju/Web Project/mern/socialPractise/client/src/redux/actions/authActions.js"],"names":["REGISTER_REQUEST","REGISTER_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","REGISTER_SUCCESS","LOGOUT_REQUEST","LOGOUT_SUCCESS","LOGOUT_FAILURE","axios","register","newUserData","dispatch","type","data","post","headers","payload","newUser","error","console","log","message","login","email","password","token","response","msg","logout","removeCookie","get"],"mappings":"AAAA,SACIA,gBADJ,EAEIC,gBAFJ,EAGIC,aAHJ,EAIIC,aAJJ,EAKIC,aALJ,EAMIC,gBANJ,EAOIC,cAPJ,EAQIC,cARJ,EASIC,cATJ,QAUO,0BAVP;AAWA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,QAAQ,GAAIC,WAAD,IAAiB,MAAOC,QAAP,IAAoB;AACzD,MAAI;AACAA,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAAGb;AADF,KAAD,CAAR;AAIA,UAAM;AAACc,MAAAA;AAAD,QAAS,MAAML,KAAK,CAACM,IAAN,CAAW,gBAAX,EAA6BJ,WAA7B,EAA0C;AAACK,MAAAA,OAAO,EAAG;AAAC,wBAAiB;AAAlB;AAAX,KAA1C,CAArB;AAEAJ,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAAGR,gBADF;AAELY,MAAAA,OAAO,EAAGH,IAAI,CAACI;AAFV,KAAD,CAAR;AAIH,GAXD,CAWE,OAAOC,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAP,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAAGZ,gBADF;AAELgB,MAAAA,OAAO,EAAGE,KAAK,CAACG;AAFX,KAAD,CAAR;AAIH;AACJ,CAnBM;AAqBP,OAAO,MAAMC,KAAK,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB,MAAOb,QAAP,IAAoB;AAC1D,MAAI;AACA;AACA,QAAI;AACAA,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAGX;AADF,OAAD,CAAR;AAIA,YAAM;AAACY,QAAAA;AAAD,UAAS,MAAML,KAAK,CAACM,IAAN,CAAW,aAAX,EAA0B;AAACS,QAAAA,KAAD;AAAQC,QAAAA;AAAR,OAA1B,EAA6C;AAACT,QAAAA,OAAO,EAAG;AAAC,0BAAiB;AAAlB;AAAX,OAA7C,CAArB;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACAF,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAGV,aADF;AAELc,QAAAA,OAAO,EAAGH,IAAI,CAACY;AAFV,OAAD,CAAR;AAIH,KAXD,CAWE,OAAOP,KAAP,EAAc;AACZP,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAGT,aADF;AAELa,QAAAA,OAAO,EAAGE,KAAK,CAACQ,QAAN,CAAeb,IAAf,CAAoBc;AAFzB,OAAD,CAAR;AAIH;AACJ,GAnBD,CAmBE,OAAOT,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ,CAvBM;AA4BP,OAAO,MAAMU,MAAM,GAAG,MAAM,MAAOjB,QAAP,IAAoB;AAC5C,MAAI;AACAA,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAAGP;AADF,KAAD,CAAR;AAIA,UAAMwB,YAAY,GAAG,MAAMrB,KAAK,CAACsB,GAAN,CAAU,cAAV,CAA3B;AAEAnB,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAAGN,cADF;AAELU,MAAAA,OAAO,EAAGa;AAFL,KAAD,CAAR;AAIH,GAXD,CAWE,OAAOX,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAP,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAAGL,cADF;AAELS,MAAAA,OAAO,EAAGE,KAAK,CAACG;AAFX,KAAD,CAAR;AAIH;AACJ,CAnBM","sourcesContent":["import {\n    REGISTER_REQUEST, \n    REGISTER_FAILURE, \n    LOGIN_REQUEST, \n    LOGIN_SUCCESS, \n    LOGIN_FAILURE, \n    REGISTER_SUCCESS, \n    LOGOUT_REQUEST, \n    LOGOUT_SUCCESS, \n    LOGOUT_FAILURE,\n} from \"../constants/actionTypes\"\nimport axios from \"axios\"\n\nexport const register = (newUserData) => async (dispatch) => {\n    try {\n        dispatch({\n            type : REGISTER_REQUEST\n        });\n\n        const {data} = await axios.post(\"/auth/register\", newUserData, {headers : {\"Content-Type\" : \"application/json,\"}});\n\n        dispatch({\n            type : REGISTER_SUCCESS,\n            payload : data.newUser\n        });\n    } catch (error) {\n        console.log(error);\n        dispatch({\n            type : REGISTER_FAILURE,\n            payload : error.message\n        });\n    }\n};\n\nexport const login = (email, password) => async (dispatch) => {\n    try {\n        // this wired nested trycatch block is use here to avoid type error\n        try {\n            dispatch({\n                type : LOGIN_REQUEST,\n            });\n    \n            const {data} = await axios.post(\"/auth/login\", {email, password}, {headers : {\"Content-Type\" : \"application/json\"}});\n            console.log(data)\n            dispatch({\n                type : LOGIN_SUCCESS,\n                payload : data.token\n            });\n        } catch (error) {\n            dispatch({\n                type : LOGIN_FAILURE,\n                payload : error.response.data.msg\n            })\n        }\n    } catch (error) {\n        console.log(error);\n    }\n};\n\n\n\n\nexport const logout = () => async (dispatch) => {\n    try {\n        dispatch({\n            type : LOGOUT_REQUEST\n        });\n\n        const removeCookie = await axios.get(\"/auth/logout\");\n\n        dispatch({\n            type : LOGOUT_SUCCESS,\n            payload : removeCookie\n        })\n    } catch (error) {\n        console.log(error);\n        dispatch({\n            type : LOGOUT_FAILURE,\n            payload : error.message\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}