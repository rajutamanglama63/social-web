{"ast":null,"code":"var _jsxFileName = \"/home/raju/Web Project/mern/socialPractise/client/src/components/AddPost/AddPost.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useAlert } from \"react-alert\";\nimport { addNewPost } from \"../../redux/actions/addNewPost\";\nimport \"./addPost.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddPost = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const addLatestPost = useSelector(state => state.addPost);\n  const [addPost, setAddPost] = useState({\n    caption: \"\",\n    image: null\n  });\n\n  const imageSelector = e => {\n    const file = e.target.files[0];\n    const Reader = new FileReader();\n    Reader.readAsDataURL(file);\n\n    Reader.onload = () => {\n      // basically FileReader method have 3 \n      // different state and they are initialState = 0, processingState = 1, readyState = 2\n      if (Reader.readyState === 2) {\n        // Reader.result will actually read the url path of pic which we have choose from our machine\n        setAddPost({ ...addPost,\n          image: Reader.result\n        });\n      }\n    };\n  };\n\n  const postSubmitHandler = e => {\n    e.preventDefault();\n    dispatch(addNewPost(addPost.caption, addPost.image));\n    setAddPost({\n      caption: \"\",\n      image: null\n    });\n  };\n\n  useEffect(() => {\n    if (addLatestPost.msg) {\n      alert.show(addLatestPost.msg);\n    }\n  }, [dispatch, alert, addLatestPost.msg]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add_post_box\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add_post_box_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"add_post_header\",\n          children: \"Add Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"add_post_form\",\n          onSubmit: postSubmitHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"add_post_input_field\",\n            placeholder: \"caption\",\n            type: \"text\",\n            value: addPost.caption,\n            onChange: e => setAddPost({ ...addPost,\n              caption: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"add_post_input_field\",\n            accept: \"image/*\",\n            type: \"file\",\n            onChange: imageSelector\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), addPost.image && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: addPost.image,\n            className: \"post_image\",\n            alt: \"post_image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 43\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: addLatestPost.loading,\n            className: \"add_post_btn\",\n            children: \"Add Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddPost, \"cZ8pConrZ0pxksCDX9odeP2A/e0=\", false, function () {\n  return [useDispatch, useAlert, useSelector];\n});\n\n_c = AddPost;\nexport default AddPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddPost\");","map":{"version":3,"sources":["/home/raju/Web Project/mern/socialPractise/client/src/components/AddPost/AddPost.js"],"names":["useState","useEffect","useDispatch","useSelector","useAlert","addNewPost","AddPost","dispatch","alert","addLatestPost","state","addPost","setAddPost","caption","image","imageSelector","e","file","target","files","Reader","FileReader","readAsDataURL","onload","readyState","result","postSubmitHandler","preventDefault","msg","show","value","loading"],"mappings":"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","sourcesContent":["import {useState, useEffect} from \"react\"\nimport {useDispatch, useSelector} from \"react-redux\"\nimport {useAlert} from \"react-alert\"\nimport {addNewPost} from \"../../redux/actions/addNewPost\"\nimport \"./addPost.css\"\n\nconst AddPost = () => {\n    const dispatch = useDispatch()\n    const alert = useAlert()\n    const addLatestPost = useSelector(state => state.addPost)\n    const [addPost, setAddPost] = useState({\n        caption : \"\",\n        image : null\n    })\n\n    const imageSelector = (e) => {\n        const file = e.target.files[0]\n\n        const Reader = new FileReader()\n        Reader.readAsDataURL(file)\n\n        Reader.onload = () => {\n            // basically FileReader method have 3 \n            // different state and they are initialState = 0, processingState = 1, readyState = 2\n            if(Reader.readyState === 2){\n                // Reader.result will actually read the url path of pic which we have choose from our machine\n                setAddPost({...addPost, image : Reader.result})\n            }\n        }\n\n    }\n\n    const postSubmitHandler = (e) => {\n        e.preventDefault()\n\n        dispatch(addNewPost(addPost.caption, addPost.image))\n\n        setAddPost({\n            caption : \"\",\n            image : null\n        })\n    }\n\n    useEffect(() => {\n        if(addLatestPost.msg) {\n            alert.show(addLatestPost.msg)\n        }\n    }, [dispatch, alert, addLatestPost.msg])\n    return (\n        <div>\n            <div className=\"add_post_box\">\n                <div className=\"add_post_box_container\">\n                    <h1 className=\"add_post_header\">Add Post</h1>\n                    <form className=\"add_post_form\" onSubmit={postSubmitHandler}>\n                        <input \n                         className=\"add_post_input_field\" \n                         placeholder=\"caption\" \n                         type=\"text\" \n                         value={addPost.caption}\n                         onChange={(e) => setAddPost({...addPost, caption : e.target.value})}\n                        />\n                        <input \n                         className=\"add_post_input_field\" \n                         accept=\"image/*\" \n                         type=\"file\" \n                         onChange={imageSelector}\n                        /> \n                        {addPost.image && <img src={addPost.image} className=\"post_image\" alt=\"post_image\" />}\n                        <button type=\"submit\" disabled={addLatestPost.loading} className=\"add_post_btn\">Add Post</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default AddPost\n"]},"metadata":{},"sourceType":"module"}